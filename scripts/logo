#!/usr/bin/env bash
# Glide Code ASCII Logo Generator
# Usage: ./scripts/logo [color] [-p|--pad]
# Colors: cyan, green, magenta, blue, yellow, red, orange, gradient, rainbow

COLOR="gradient"
PADDING=0

# Parse arguments
while [[ $# -gt 0 ]]; do
    case "$1" in
        -p|--pad)
            PADDING=1
            shift
            ;;
        *)
            COLOR="$1"
            shift
            ;;
    esac
done

# ANSI color codes
RESET='\033[0m'
BOLD='\033[1m'
CYAN='\033[1;36m'
GREEN='\033[1;32m'
MAGENTA='\033[1;35m'
BLUE='\033[1;34m'
YELLOW='\033[1;33m'
RED='\033[1;31m'
ORANGE='\033[38;5;208m'

# Padding settings
PAD_LEFT="    "
PAD_LINES=2

print_vpad() {
    if [[ $PADDING -eq 1 ]]; then
        for ((i=0; i<PAD_LINES; i++)); do echo ""; done
    fi
}

indent() {
    if [[ $PADDING -eq 1 ]]; then
        sed "s/^/${PAD_LEFT}/"
    else
        cat
    fi
}

print_banner() {
    cat << 'EOF' | indent
 ██████╗ ██╗     ██╗██████╗ ███████╗     ██████╗ ██████╗ ██████╗ ███████╗
██╔════╝ ██║     ██║██╔══██╗██╔════╝    ██╔════╝██╔═══██╗██╔══██╗██╔════╝
██║  ███╗██║     ██║██║  ██║█████╗      ██║     ██║   ██║██║  ██║█████╗
██║   ██║██║     ██║██║  ██║██╔══╝      ██║     ██║   ██║██║  ██║██╔══╝
╚██████╔╝███████╗██║██████╔╝███████╗    ╚██████╗╚██████╔╝██████╔╝███████╗
 ╚═════╝ ╚══════╝╚═╝╚═════╝ ╚══════╝     ╚═════╝ ╚═════╝ ╚═════╝ ╚══════╝
EOF
}

print_gradient() {
    local p=""
    [[ $PADDING -eq 1 ]] && p="${PAD_LEFT}"
    echo -e "${p}\033[38;5;51m ██████╗ ██╗     ██╗██████╗ ███████╗\033[38;5;49m     ██████╗ ██████╗ ██████╗ ███████╗${RESET}"
    echo -e "${p}\033[38;5;50m██╔════╝ ██║     ██║██╔══██╗██╔════╝\033[38;5;48m    ██╔════╝██╔═══██╗██╔══██╗██╔════╝${RESET}"
    echo -e "${p}\033[38;5;49m██║  ███╗██║     ██║██║  ██║█████╗  \033[38;5;47m    ██║     ██║   ██║██║  ██║█████╗  ${RESET}"
    echo -e "${p}\033[38;5;48m██║   ██║██║     ██║██║  ██║██╔══╝  \033[38;5;46m    ██║     ██║   ██║██║  ██║██╔══╝  ${RESET}"
    echo -e "${p}\033[38;5;47m╚██████╔╝███████╗██║██████╔╝███████╗\033[38;5;45m    ╚██████╗╚██████╔╝██████╔╝███████╗${RESET}"
    echo -e "${p}\033[38;5;46m ╚═════╝ ╚══════╝╚═╝╚═════╝ ╚══════╝\033[38;5;44m     ╚═════╝ ╚═════╝ ╚═════╝ ╚══════╝${RESET}"
}

print_rainbow() {
    local p=""
    [[ $PADDING -eq 1 ]] && p="${PAD_LEFT}"
    echo -e "${p}\033[1;31m ██████╗ ██╗     ██╗██████╗ ███████╗     ██████╗ ██████╗ ██████╗ ███████╗${RESET}"
    echo -e "${p}\033[1;33m██╔════╝ ██║     ██║██╔══██╗██╔════╝    ██╔════╝██╔═══██╗██╔══██╗██╔════╝${RESET}"
    echo -e "${p}\033[1;32m██║  ███╗██║     ██║██║  ██║█████╗      ██║     ██║   ██║██║  ██║█████╗  ${RESET}"
    echo -e "${p}\033[1;36m██║   ██║██║     ██║██║  ██║██╔══╝      ██║     ██║   ██║██║  ██║██╔══╝  ${RESET}"
    echo -e "${p}\033[1;34m╚██████╔╝███████╗██║██████╔╝███████╗    ╚██████╗╚██████╔╝██████╔╝███████╗${RESET}"
    echo -e "${p}\033[1;35m ╚═════╝ ╚══════╝╚═╝╚═════╝ ╚══════╝     ╚═════╝ ╚═════╝ ╚═════╝ ╚══════╝${RESET}"
}

# Print top padding
print_vpad

# Check if toilet is available for dynamic generation
if command -v toilet &> /dev/null; then
    case "$COLOR" in
        rainbow)
            toilet -f future "Glide Code" --filter gay | indent
            ;;
        gradient)
            toilet -f future "Glide Code" --filter metal | indent
            ;;
        *)
            toilet -f future "Glide Code" -F border --filter "$COLOR" 2>/dev/null | indent || \
            toilet -f future "Glide Code" | indent
            ;;
    esac
else
    # Use pre-made banner
    case "$COLOR" in
        gradient)
            print_gradient
            ;;
        rainbow)
            print_rainbow
            ;;
        cyan)
            echo -e "${CYAN}"
            print_banner
            echo -e "${RESET}"
            ;;
        green)
            echo -e "${GREEN}"
            print_banner
            echo -e "${RESET}"
            ;;
        magenta)
            echo -e "${MAGENTA}"
            print_banner
            echo -e "${RESET}"
            ;;
        blue)
            echo -e "${BLUE}"
            print_banner
            echo -e "${RESET}"
            ;;
        yellow)
            echo -e "${YELLOW}"
            print_banner
            echo -e "${RESET}"
            ;;
        red)
            echo -e "${RED}"
            print_banner
            echo -e "${RESET}"
            ;;
        orange)
            echo -e "${ORANGE}"
            print_banner
            echo -e "${RESET}"
            ;;
        *)
            print_gradient
            ;;
    esac
fi

# Print bottom padding
print_vpad
